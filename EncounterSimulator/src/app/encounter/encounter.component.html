<div class="container container-vertical">
    <h1 style="margin-left: 1em">Start an Encounter!</h1>
    <mat-vertical-stepper [linear]="true" #stepper>

        <mat-step>
            <ng-template matStepLabel>Select your characters</ng-template>
            <app-available-characters></app-available-characters>
            <div>
                <button (click)="sendSelectedCharacters()" color="warn" mat-raised-button class="step" matStepperNext>Begin preparation!</button>
            </div>
        </mat-step>

        <mat-step>
            <ng-template matStepLabel><div (click)="sendSelectedCharacters()">Prepare for battle</div></ng-template>
            <app-preparation></app-preparation>
            <div>
                <button color="primary" mat-raised-button class="step" matStepperPrevious>Back</button>
                <button color="warn" mat-raised-button class="step" matStepperNext (click)="beginEncounter()">Begin fight!</button>
            </div>
        </mat-step>

        <mat-step>
            <ng-template matStepLabel><div (click)="beginFight()">Fight!</div></ng-template>
            <app-fight></app-fight>
            <div class="footer-row">
                <button mat-raised-button matStepperPrevious class="step" color="primary">Back</button>
                <button mat-raised-button (click)="stepper.reset(); endEncounter();" class="step" color="primary">Start Over</button>
                <span class="spacer"></span>
                <button mat-raised-button (click)="saveAndEndEncounter();" class="step" color="warn">End Fight</button>
            </div>
        </mat-step>

    </mat-vertical-stepper>
</div>