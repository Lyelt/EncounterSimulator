<mat-accordion class="example-headers-align">
    <div class="container-horizontal">
        <mat-icon [matBadge]="encounterData?.turnsElapsed" matBadgeColor="accent" matTooltip="{{encounterData?.turnsElapsed}} individual turn(s) elapsed">person</mat-icon>
        <mat-icon [matBadge]="encounterData?.roundsElapsed" matBadgeColor="accent" matTooltip="{{encounterData?.roundsElapsed}} complete round(s) elapsed">autorenew</mat-icon>
        <mat-icon [matBadge]="encounterData?.secondsElapsed" matBadgeColor="accent" matTooltip="{{encounterData?.secondsElapsed}} in-game second(s) elapsed">access_time</mat-icon>
    </div>
    <mat-expansion-panel *ngFor="let character of characters; let i = index" [expanded]="step === i" hideToggle>
        <mat-expansion-panel-header>
            <mat-panel-title>
                <div class="spinner-wrapper">
                    <mat-progress-spinner *ngIf="step === i" color="accent" mode="indeterminate" [diameter]="20"></mat-progress-spinner>
                </div>
                {{i+1}}. {{character.name}}
            </mat-panel-title>
            <mat-panel-description>
                <div>
                    <mat-icon matTooltip="Current HP / Max HP">favorite_border</mat-icon>
                    {{character.currentHP}} / {{character.maxHP}}
                </div>
                <div>
                    <mat-icon matTooltip="Armor Class">security</mat-icon>
                    {{character.ac}}
                </div>
            </mat-panel-description>
        </mat-expansion-panel-header>
        <app-action #actionForms [character]="character"></app-action>
        <mat-action-row>
            <button mat-raised-button color="primary" (click)="saveAction()">Another Action</button>
            <span class="spacer"></span>
            <button mat-raised-button color="accent" (click)="endTurn()">End Turn</button>
        </mat-action-row>
    </mat-expansion-panel>
</mat-accordion>
